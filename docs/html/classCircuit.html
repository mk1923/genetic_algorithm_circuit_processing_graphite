<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACS-GERARDIUM-RUSH-SPHALERITE: Circuit Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ACS-GERARDIUM-RUSH-SPHALERITE<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Optimal mineral recovery using a Genetic Algorithm approach.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classCircuit.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classCircuit-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Circuit Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="CCircuit_8h_source.html">CCircuit.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae9d62661b452c4d4ef5d6e75f0278cbf" id="r_ae9d62661b452c4d4ef5d6e75f0278cbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9d62661b452c4d4ef5d6e75f0278cbf">Circuit</a> (int num_units)</td></tr>
<tr class="memdesc:ae9d62661b452c4d4ef5d6e75f0278cbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classCircuit.html">Circuit</a> with a given number of units.  <br /></td></tr>
<tr class="separator:ae9d62661b452c4d4ef5d6e75f0278cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f30a1f36f8733fe49cf515ec4387e28" id="r_a9f30a1f36f8733fe49cf515ec4387e28"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f30a1f36f8733fe49cf515ec4387e28">Check_Validity</a> (int vector_size, int *circuit_vector, bool if_debug=false)</td></tr>
<tr class="memdesc:a9f30a1f36f8733fe49cf515ec4387e28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the validity of the circuit configuration.  <br /></td></tr>
<tr class="separator:a9f30a1f36f8733fe49cf515ec4387e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c7a54a7a307a6c9166f15c3c1f0cfc" id="r_a38c7a54a7a307a6c9166f15c3c1f0cfc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38c7a54a7a307a6c9166f15c3c1f0cfc">initialize_units</a> (int *circuit_vector, double F_in_valuable, double F_in_waste)</td></tr>
<tr class="memdesc:a38c7a54a7a307a6c9166f15c3c1f0cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the units in the circuit.  <br /></td></tr>
<tr class="separator:a38c7a54a7a307a6c9166f15c3c1f0cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc1ce22d098a6bc6d0fc7bafd84b91a" id="r_afdc1ce22d098a6bc6d0fc7bafd84b91a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afdc1ce22d098a6bc6d0fc7bafd84b91a">update_input</a> (std::vector&lt; <a class="el" href="classCUnit.html">CUnit</a> &gt; &amp;<a class="el" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>)</td></tr>
<tr class="memdesc:afdc1ce22d098a6bc6d0fc7bafd84b91a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the input flow rates for all units in the circuit.  <br /></td></tr>
<tr class="separator:afdc1ce22d098a6bc6d0fc7bafd84b91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638fdbcbaf68b80ce1c3196fb9b0d8c5" id="r_a638fdbcbaf68b80ce1c3196fb9b0d8c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a638fdbcbaf68b80ce1c3196fb9b0d8c5">one_unit</a> (<a class="el" href="classCUnit.html">CUnit</a> &amp;cunit)</td></tr>
<tr class="memdesc:a638fdbcbaf68b80ce1c3196fb9b0d8c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the flow rates for a single unit.  <br /></td></tr>
<tr class="separator:a638fdbcbaf68b80ce1c3196fb9b0d8c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6de1ee8833171eb825fd36d0be158712" id="r_a6de1ee8833171eb825fd36d0be158712"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6de1ee8833171eb825fd36d0be158712">iterate_units</a> (int max_iterations, double tol)</td></tr>
<tr class="memdesc:a6de1ee8833171eb825fd36d0be158712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterates through the units in the circuit until convergence or maximum iterations are reached.  <br /></td></tr>
<tr class="separator:a6de1ee8833171eb825fd36d0be158712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b68d1429ef11a41fbd14a9b9e2473f" id="r_a83b68d1429ef11a41fbd14a9b9e2473f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83b68d1429ef11a41fbd14a9b9e2473f">check_convergence</a> (double tol)</td></tr>
<tr class="memdesc:a83b68d1429ef11a41fbd14a9b9e2473f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the circuit has converged based on the tolerance.  <br /></td></tr>
<tr class="separator:a83b68d1429ef11a41fbd14a9b9e2473f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49bccd75e578d4f73519b79718452d65" id="r_a49bccd75e578d4f73519b79718452d65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49bccd75e578d4f73519b79718452d65">get_input_units</a> (std::vector&lt; <a class="el" href="classCUnit.html">CUnit</a> &gt; &amp;Units, int unit_num)</td></tr>
<tr class="memdesc:a49bccd75e578d4f73519b79718452d65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves all input units for a single unit in the circuit.  <br /></td></tr>
<tr class="separator:a49bccd75e578d4f73519b79718452d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f7c46030b7214c9273c864428df1f2" id="r_a16f7c46030b7214c9273c864428df1f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16f7c46030b7214c9273c864428df1f2">get_all_input_units</a> ()</td></tr>
<tr class="memdesc:a16f7c46030b7214c9273c864428df1f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves all input units for all units in the circuit.  <br /></td></tr>
<tr class="separator:a16f7c46030b7214c9273c864428df1f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f713cdd5b293e5b77fca2d33f301f3a" id="r_a0f713cdd5b293e5b77fca2d33f301f3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f713cdd5b293e5b77fca2d33f301f3a">get_final_output_source</a> (std::array&lt; <a class="el" href="classCUnit.html">CUnit</a>, 2 &gt; &amp;outputs, std::vector&lt; <a class="el" href="classCUnit.html">CUnit</a> &gt; &amp;Units)</td></tr>
<tr class="memdesc:a0f713cdd5b293e5b77fca2d33f301f3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves all input units for the final output in the circuit.  <br /></td></tr>
<tr class="separator:a0f713cdd5b293e5b77fca2d33f301f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe7e217cba58f33c7224be9e536a814f" id="r_abe7e217cba58f33c7224be9e536a814f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe7e217cba58f33c7224be9e536a814f">update_final_output</a> (std::array&lt; <a class="el" href="classCUnit.html">CUnit</a>, 2 &gt; &amp;fin_output, std::vector&lt; <a class="el" href="classCUnit.html">CUnit</a> &gt; &amp;cunits)</td></tr>
<tr class="memdesc:abe7e217cba58f33c7224be9e536a814f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the final output with the geradium and waste received.  <br /></td></tr>
<tr class="separator:abe7e217cba58f33c7224be9e536a814f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee1a0bb604a9246051dce09319576f40" id="r_aee1a0bb604a9246051dce09319576f40"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee1a0bb604a9246051dce09319576f40">evaluate_performance</a> ()</td></tr>
<tr class="memdesc:aee1a0bb604a9246051dce09319576f40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates the performance of the circuit.  <br /></td></tr>
<tr class="separator:aee1a0bb604a9246051dce09319576f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0a00a2924513700c67940707872324f7" id="r_a0a00a2924513700c67940707872324f7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a00a2924513700c67940707872324f7">initial_F_g</a></td></tr>
<tr class="separator:a0a00a2924513700c67940707872324f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafce84e26600602ad49bf26ab017ee59" id="r_aafce84e26600602ad49bf26ab017ee59"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aafce84e26600602ad49bf26ab017ee59">initial_F_w</a></td></tr>
<tr class="separator:aafce84e26600602ad49bf26ab017ee59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03036c30a1ee6c0546b0b11de609c099" id="r_a03036c30a1ee6c0546b0b11de609c099"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03036c30a1ee6c0546b0b11de609c099">first_feed</a></td></tr>
<tr class="separator:a03036c30a1ee6c0546b0b11de609c099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03d16f0c859c5268bf4440e267f06ba2" id="r_a03d16f0c859c5268bf4440e267f06ba2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03d16f0c859c5268bf4440e267f06ba2">converged</a></td></tr>
<tr class="separator:a03d16f0c859c5268bf4440e267f06ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9bd1c2071b0b5175ea0b0bcaf2d786c" id="r_aa9bd1c2071b0b5175ea0b0bcaf2d786c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classCUnit.html">CUnit</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a></td></tr>
<tr class="separator:aa9bd1c2071b0b5175ea0b0bcaf2d786c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0deeb10e756cbea2a3944ee40254d2c" id="r_af0deeb10e756cbea2a3944ee40254d2c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0deeb10e756cbea2a3944ee40254d2c">output</a></td></tr>
<tr class="separator:af0deeb10e756cbea2a3944ee40254d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826058132f5e781488f34831d3243919" id="r_a826058132f5e781488f34831d3243919"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="classCUnit.html">CUnit</a>, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a826058132f5e781488f34831d3243919">final_output</a></td></tr>
<tr class="separator:a826058132f5e781488f34831d3243919"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a77e630f3c6c0fd42f3945c16b6542cd0" id="r_a77e630f3c6c0fd42f3945c16b6542cd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77e630f3c6c0fd42f3945c16b6542cd0">mark_units</a> (int unit_num)</td></tr>
<tr class="memdesc:a77e630f3c6c0fd42f3945c16b6542cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the units starting from a given unit number.  <br /></td></tr>
<tr class="separator:a77e630f3c6c0fd42f3945c16b6542cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac8dc27eba5dec4d219f547989661a45a" id="r_ac8dc27eba5dec4d219f547989661a45a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a> [3]</td></tr>
<tr class="separator:ac8dc27eba5dec4d219f547989661a45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header for the circuit class</p>
<p>This header defines the circuit class and its associated functions </p>

<p class="definition">Definition at line <a class="el" href="CCircuit_8h_source.html#l00013">13</a> of file <a class="el" href="CCircuit_8h_source.html">CCircuit.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae9d62661b452c4d4ef5d6e75f0278cbf" name="ae9d62661b452c4d4ef5d6e75f0278cbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d62661b452c4d4ef5d6e75f0278cbf">&#9670;&#160;</a></span>Circuit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Circuit::Circuit </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_units</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classCircuit.html">Circuit</a> with a given number of units. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_units</td><td>The number of units in the circuit. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00009">9</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    9</span>                              {</div>
<div class="line"><span class="lineno">   10</span>    this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.resize(num_units);</div>
<div class="line"><span class="lineno">   11</span>}</div>
<div class="ttc" id="aclassCircuit_html_aa9bd1c2071b0b5175ea0b0bcaf2d786c"><div class="ttname"><a href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">Circuit::units</a></div><div class="ttdeci">std::vector&lt; CUnit &gt; units</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8h_source.html#l00136">CCircuit.h:136</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="CCircuit_8h_source.html#l00136">units</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a83b68d1429ef11a41fbd14a9b9e2473f" name="a83b68d1429ef11a41fbd14a9b9e2473f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b68d1429ef11a41fbd14a9b9e2473f">&#9670;&#160;</a></span>check_convergence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Circuit::check_convergence </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>tol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the circuit has converged based on the tolerance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tol</td><td>Convergence tolerance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the circuit has converged. </dd>
<dd>
false if the circuit has not converged.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function checks the difference between the current and previous flow rates to determine convergence. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00324">324</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  324</span>                                          {</div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; unit : <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>) {</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">if</span> (std::abs(unit.current_F_g - unit.previous_F_g) &gt; tol ||</div>
<div class="line"><span class="lineno">  327</span>            std::abs(unit.current_F_w- unit.previous_F_w) &gt; tol) {</div>
<div class="line"><span class="lineno">  328</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  329</span>        }</div>
<div class="line"><span class="lineno">  330</span>    }</div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  332</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="CCircuit_8h_source.html#l00136">units</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a83b68d1429ef11a41fbd14a9b9e2473f_icgraph.png" border="0" usemap="#aclassCircuit_a83b68d1429ef11a41fbd14a9b9e2473f_icgraph" alt=""/></div>
<map name="aclassCircuit_a83b68d1429ef11a41fbd14a9b9e2473f_icgraph" id="aclassCircuit_a83b68d1429ef11a41fbd14a9b9e2473f_icgraph">
<area shape="rect" title="Checks if the circuit has converged based on the tolerance." alt="" coords="588,42,772,68"/>
<area shape="rect" href="classCircuit.html#a6de1ee8833171eb825fd36d0be158712" title="Iterates through the units in the circuit until convergence or maximum iterations are reached." alt="" coords="402,42,540,68"/>
<area shape="poly" title=" " alt="" coords="573,58,541,58,541,52,573,52"/>
<area shape="rect" href="CSimulator_8cpp.html#a0c0dc657ea14231767678e4cc0b28795" title=" " alt="" coords="237,42,354,68"/>
<area shape="poly" title=" " alt="" coords="386,58,355,58,355,52,386,52"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,47,189,42,189,37,222,41"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,68,122,82,122,77,221,63"/>
</map>
</div>

</div>
</div>
<a id="a9f30a1f36f8733fe49cf515ec4387e28" name="a9f30a1f36f8733fe49cf515ec4387e28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f30a1f36f8733fe49cf515ec4387e28">&#9670;&#160;</a></span>Check_Validity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Circuit::Check_Validity </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>vector_size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>circuit_vector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>if_debug</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the validity of the circuit configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vector_size</td><td>Size of the circuit vector. </td></tr>
    <tr><td class="paramname">circuit_vector</td><td>Pointer to the circuit vector. </td></tr>
    <tr><td class="paramname">if_debug</td><td>Boolean flag to print debug information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the circuit is valid. </dd>
<dd>
false if the circuit is invalid.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The function performs several checks to ensure the circuit configuration is valid. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00013">13</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   13</span>                                                                                {</div>
<div class="line"><span class="lineno">   14</span>    <span class="comment">// initialize validation</span></div>
<div class="line"><span class="lineno">   15</span>    <a class="code hl_variable" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a>[0] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   16</span>    <a class="code hl_variable" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a>[1] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   17</span>    <a class="code hl_variable" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a>[2] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   18</span> </div>
<div class="line"><span class="lineno">   19</span>    <span class="comment">// check if there are no units, return false</span></div>
<div class="line"><span class="lineno">   20</span>    <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size() &lt;= 0) {</div>
<div class="line"><span class="lineno">   21</span>        <span class="comment">//cout why</span></div>
<div class="line"><span class="lineno">   22</span>        <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">   23</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;No units in the circuit&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   24</span>        }</div>
<div class="line"><span class="lineno">   25</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   26</span>    }</div>
<div class="line"><span class="lineno">   27</span>    <span class="comment">// check if vector_size is correct</span></div>
<div class="line"><span class="lineno">   28</span>    <span class="keywordflow">if</span> (vector_size != 3 * this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size() + 1) {</div>
<div class="line"><span class="lineno">   29</span>        <span class="comment">//print every element in the vector</span></div>
<div class="line"><span class="lineno">   30</span>        <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">   31</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;Vector size is incorrect&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   32</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; vector_size; i++) {</div>
<div class="line"><span class="lineno">   33</span>                std::cout &lt;&lt; circuit_vector[i] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><span class="lineno">   34</span>            }</div>
<div class="line"><span class="lineno">   35</span>            std::cout &lt;&lt; <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   36</span>            std::cout &lt;&lt; vector_size &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   37</span>        }</div>
<div class="line"><span class="lineno">   38</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   39</span>    }</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>    <span class="comment">// get feed_num</span></div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordtype">int</span> feed_num = circuit_vector[0];</div>
<div class="line"><span class="lineno">   43</span>    <span class="comment">// check if feed_num is valid: 0 &lt;= feed_num &lt; num_units</span></div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">if</span> (feed_num &lt; 0 || feed_num &gt;= this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size()) {</div>
<div class="line"><span class="lineno">   45</span>        <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">   46</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;Feed number is invalid&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   47</span>        }</div>
<div class="line"><span class="lineno">   48</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   49</span>    }</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>    <span class="comment">// initialize connections for each unit</span></div>
<div class="line"><span class="lineno">   52</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size(); i++) {</div>
<div class="line"><span class="lineno">   53</span>        this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].conc_num = circuit_vector[3 * i + 1];</div>
<div class="line"><span class="lineno">   54</span>        this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].inter_num = circuit_vector[3 * i + 2];</div>
<div class="line"><span class="lineno">   55</span>        this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].tails_num = circuit_vector[3 * i + 3];</div>
<div class="line"><span class="lineno">   56</span>        this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].mark = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   57</span>    }</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="comment">// mark units starting from feed_num</span></div>
<div class="line"><span class="lineno">   60</span>    <a class="code hl_function" href="#a77e630f3c6c0fd42f3945c16b6542cd0">mark_units</a>(feed_num);</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>    <span class="comment">// check if all units are marked</span></div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size(); i++) {</div>
<div class="line"><span class="lineno">   64</span>        <span class="comment">// if any unit is not marked, return false</span></div>
<div class="line"><span class="lineno">   65</span>        <span class="keywordflow">if</span> (!this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].mark) {</div>
<div class="line"><span class="lineno">   66</span>            <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">   67</span>                std::cout &lt;&lt; <span class="stringliteral">&quot;Not all units are connected&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   68</span>            }</div>
<div class="line"><span class="lineno">   69</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   70</span>        }</div>
<div class="line"><span class="lineno">   71</span>        <span class="comment">// if any unit has self loop, return false</span></div>
<div class="line"><span class="lineno">   72</span>        <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].conc_num == i || this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].inter_num == i || this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].tails_num == i) {</div>
<div class="line"><span class="lineno">   73</span>            <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">   74</span>                std::cout &lt;&lt; <span class="stringliteral">&quot;Unit &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; has self loop&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   75</span>            }</div>
<div class="line"><span class="lineno">   76</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   77</span>        }</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>        <span class="comment">// if any unit has the same destination for all streams, return false</span></div>
<div class="line"><span class="lineno">   80</span>        <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].conc_num == this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].inter_num &amp;&amp;</div>
<div class="line"><span class="lineno">   81</span>            this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].conc_num == this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].tails_num &amp;&amp;</div>
<div class="line"><span class="lineno">   82</span>            this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].inter_num == this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].tails_num) {</div>
<div class="line"><span class="lineno">   83</span>            <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">   84</span>                std::cout &lt;&lt; <span class="stringliteral">&quot;Unit &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; has the same destination for all streams&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   85</span>            }</div>
<div class="line"><span class="lineno">   86</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   87</span>        }</div>
<div class="line"><span class="lineno">   88</span>        <span class="comment">// ensure that the concentrate stream (conc_num) and tailings stream (tails_num) do not point to invalid units</span></div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].conc_num == this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size() + 1 || this-&gt;units[i].tails_num == this-&gt;units.size()) {</div>
<div class="line"><span class="lineno">   90</span>            <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">   91</span>                std::cout &lt;&lt; <span class="stringliteral">&quot;Unit &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; has invalid concentrate or tailings stream&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   92</span>            }</div>
<div class="line"><span class="lineno">   93</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   94</span>        }</div>
<div class="line"><span class="lineno">   95</span>        <span class="comment">// bounds check</span></div>
<div class="line"><span class="lineno">   96</span>        <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].conc_num &lt; 0 || this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].conc_num &gt; this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size() + 1) {</div>
<div class="line"><span class="lineno">   97</span>            <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">   98</span>                std::cout &lt;&lt; <span class="stringliteral">&quot;Unit &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; has invalid concentrate stream range&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   99</span>            }</div>
<div class="line"><span class="lineno">  100</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  101</span>        }</div>
<div class="line"><span class="lineno">  102</span>        <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].inter_num &lt; 0 || this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].inter_num &gt; this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size() + 1) {</div>
<div class="line"><span class="lineno">  103</span>            <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">  104</span>                std::cout &lt;&lt; <span class="stringliteral">&quot;Unit &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; has invalid intermediate stream range&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  105</span>            }</div>
<div class="line"><span class="lineno">  106</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  107</span>        }</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].tails_num &lt; 0 || this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].tails_num &gt; this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size() + 1) {</div>
<div class="line"><span class="lineno">  109</span>            <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">  110</span>                std::cout &lt;&lt; <span class="stringliteral">&quot;Unit &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; has invalid tails stream range&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  111</span>            }</div>
<div class="line"><span class="lineno">  112</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  113</span>        }</div>
<div class="line"><span class="lineno">  114</span>        <span class="comment">// check the validation results</span></div>
<div class="line"><span class="lineno">  115</span>        <span class="comment">// if there is only one unit, ensure effective concentrated and tailing stream</span></div>
<div class="line"><span class="lineno">  116</span>        <span class="comment">// if there are multiple units, should also ensure no intermediate flow directly to the product</span></div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size() == 1) {</div>
<div class="line"><span class="lineno">  118</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a>[0] || !<a class="code hl_variable" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a>[2])</div>
<div class="line"><span class="lineno">  119</span>            {</div>
<div class="line"><span class="lineno">  120</span>                <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">  121</span>                    std::cout &lt;&lt; <span class="stringliteral">&quot;Unit &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; has no ensure effective concentrated and tailing stream&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  122</span>                }</div>
<div class="line"><span class="lineno">  123</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  124</span>            }</div>
<div class="line"><span class="lineno">  125</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  126</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a>[0] || <a class="code hl_variable" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a>[1] || !<a class="code hl_variable" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a>[2])</div>
<div class="line"><span class="lineno">  127</span>            {</div>
<div class="line"><span class="lineno">  128</span>                <span class="keywordflow">if</span> (if_debug){</div>
<div class="line"><span class="lineno">  129</span>                    std::cout &lt;&lt; <span class="stringliteral">&quot;Unit &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; has no ensure effective concentrated and tailing stream&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  130</span>                }</div>
<div class="line"><span class="lineno">  131</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  132</span>            }</div>
<div class="line"><span class="lineno">  133</span>        }</div>
<div class="line"><span class="lineno">  134</span>    }</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  136</span>}</div>
<div class="ttc" id="aclassCircuit_html_a77e630f3c6c0fd42f3945c16b6542cd0"><div class="ttname"><a href="#a77e630f3c6c0fd42f3945c16b6542cd0">Circuit::mark_units</a></div><div class="ttdeci">void mark_units(int unit_num)</div><div class="ttdoc">Marks the units starting from a given unit number.</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8cpp_source.html#l00298">CCircuit.cpp:298</a></div></div>
<div class="ttc" id="aclassCircuit_html_ac8dc27eba5dec4d219f547989661a45a"><div class="ttname"><a href="#ac8dc27eba5dec4d219f547989661a45a">Circuit::validation</a></div><div class="ttdeci">bool validation[3]</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8h_source.html#l00150">CCircuit.h:150</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="CCircuit_8cpp_source.html#l00298">mark_units()</a>, <a class="el" href="CCircuit_8h_source.html#l00136">units</a>, and <a class="el" href="CCircuit_8h_source.html#l00150">validation</a>.</p>

<p class="reference">Referenced by <a class="el" href="hyper_8cpp_source.html#l00022">gridSearch::hyperParameterSearch()</a>, and <a class="el" href="main_8cpp_source.html#l00048">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a9f30a1f36f8733fe49cf515ec4387e28_cgraph.png" border="0" usemap="#aclassCircuit_a9f30a1f36f8733fe49cf515ec4387e28_cgraph" alt=""/></div>
<map name="aclassCircuit_a9f30a1f36f8733fe49cf515ec4387e28_cgraph" id="aclassCircuit_a9f30a1f36f8733fe49cf515ec4387e28_cgraph">
<area shape="rect" title="Checks the validity of the circuit configuration." alt="" coords="5,29,160,55"/>
<area shape="rect" href="classCircuit.html#a77e630f3c6c0fd42f3945c16b6542cd0" title="Marks the units starting from a given unit number." alt="" coords="208,29,339,55"/>
<area shape="poly" title=" " alt="" coords="160,40,192,40,192,45,160,45"/>
<area shape="poly" title=" " alt="" coords="241,30,235,21,239,11,252,5,273,3,296,5,308,12,306,16,295,10,273,8,253,10,243,15,240,20,246,27"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a9f30a1f36f8733fe49cf515ec4387e28_icgraph.png" border="0" usemap="#aclassCircuit_a9f30a1f36f8733fe49cf515ec4387e28_icgraph" alt=""/></div>
<map name="aclassCircuit_a9f30a1f36f8733fe49cf515ec4387e28_icgraph" id="aclassCircuit_a9f30a1f36f8733fe49cf515ec4387e28_icgraph">
<area shape="rect" title="Checks the validity of the circuit configuration." alt="" coords="237,42,391,68"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,45,189,41,190,35,222,40"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,70,123,83,122,77,221,64"/>
</map>
</div>

</div>
</div>
<a id="aee1a0bb604a9246051dce09319576f40" name="aee1a0bb604a9246051dce09319576f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee1a0bb604a9246051dce09319576f40">&#9670;&#160;</a></span>evaluate_performance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Circuit::evaluate_performance </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluates the performance of the circuit. </p>
<dl class="section return"><dt>Returns</dt><dd>double The performance value of the circuit.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function calculates the performance of the circuit based on the flow rates of valuable and waste materials. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00334">334</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  334</span>                                    {</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordtype">double</span> total_valuable = <a class="code hl_variable" href="#a826058132f5e781488f34831d3243919">final_output</a>[0].current_F_g;</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordtype">double</span> total_waste = <a class="code hl_variable" href="#a826058132f5e781488f34831d3243919">final_output</a>[0].current_F_w;</div>
<div class="line"><span class="lineno">  338</span><span class="comment">//    double grade = total_valuable / (total_valuable + total_waste);</span></div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    <span class="keywordflow">return</span> 100 * total_valuable - 750 * total_waste;</div>
<div class="line"><span class="lineno">  341</span>}</div>
<div class="ttc" id="aclassCircuit_html_a826058132f5e781488f34831d3243919"><div class="ttname"><a href="#a826058132f5e781488f34831d3243919">Circuit::final_output</a></div><div class="ttdeci">std::array&lt; CUnit, 2 &gt; final_output</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8h_source.html#l00138">CCircuit.h:138</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="CCircuit_8h_source.html#l00138">final_output</a>.</p>

<p class="reference">Referenced by <a class="el" href="CSimulator_8cpp_source.html#l00010">Evaluate_Circuit()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_aee1a0bb604a9246051dce09319576f40_icgraph.png" border="0" usemap="#aclassCircuit_aee1a0bb604a9246051dce09319576f40_icgraph" alt=""/></div>
<map name="aclassCircuit_aee1a0bb604a9246051dce09319576f40_icgraph" id="aclassCircuit_aee1a0bb604a9246051dce09319576f40_icgraph">
<area shape="rect" title="Evaluates the performance of the circuit." alt="" coords="402,42,597,68"/>
<area shape="rect" href="CSimulator_8cpp.html#a0c0dc657ea14231767678e4cc0b28795" title=" " alt="" coords="237,42,354,68"/>
<area shape="poly" title=" " alt="" coords="386,58,354,58,354,52,386,52"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,47,189,42,189,37,222,41"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,68,122,82,122,77,221,63"/>
</map>
</div>

</div>
</div>
<a id="a16f7c46030b7214c9273c864428df1f2" name="a16f7c46030b7214c9273c864428df1f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16f7c46030b7214c9273c864428df1f2">&#9670;&#160;</a></span>get_all_input_units()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Circuit::get_all_input_units </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves all input units for all units in the circuit. </p>
<dl class="section note"><dt>Note</dt><dd>This function populates the input_info of all units in the circuit. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00168">168</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  169</span>{</div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size(); ++i) {</div>
<div class="line"><span class="lineno">  171</span>        <a class="code hl_function" href="#a49bccd75e578d4f73519b79718452d65">get_input_units</a>(<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>, i);</div>
<div class="line"><span class="lineno">  172</span>    }</div>
<div class="line"><span class="lineno">  173</span>}</div>
<div class="ttc" id="aclassCircuit_html_a49bccd75e578d4f73519b79718452d65"><div class="ttname"><a href="#a49bccd75e578d4f73519b79718452d65">Circuit::get_input_units</a></div><div class="ttdeci">void get_input_units(std::vector&lt; CUnit &gt; &amp;Units, int unit_num)</div><div class="ttdoc">Retrieves all input units for a single unit in the circuit.</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8cpp_source.html#l00153">CCircuit.cpp:153</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="CCircuit_8cpp_source.html#l00153">get_input_units()</a>, and <a class="el" href="CCircuit_8h_source.html#l00136">units</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a16f7c46030b7214c9273c864428df1f2_cgraph.png" border="0" usemap="#aclassCircuit_a16f7c46030b7214c9273c864428df1f2_cgraph" alt=""/></div>
<map name="aclassCircuit_a16f7c46030b7214c9273c864428df1f2_cgraph" id="aclassCircuit_a16f7c46030b7214c9273c864428df1f2_cgraph">
<area shape="rect" title="Retrieves all input units for all units in the circuit." alt="" coords="5,5,146,46"/>
<area shape="rect" href="classCircuit.html#a49bccd75e578d4f73519b79718452d65" title="Retrieves all input units for a single unit in the circuit." alt="" coords="194,5,314,46"/>
<area shape="poly" title=" " alt="" coords="146,23,178,23,178,28,146,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a16f7c46030b7214c9273c864428df1f2_icgraph.png" border="0" usemap="#aclassCircuit_a16f7c46030b7214c9273c864428df1f2_icgraph" alt=""/></div>
<map name="aclassCircuit_a16f7c46030b7214c9273c864428df1f2_icgraph" id="aclassCircuit_a16f7c46030b7214c9273c864428df1f2_icgraph">
<area shape="rect" title="Retrieves all input units for all units in the circuit." alt="" coords="588,35,729,75"/>
<area shape="rect" href="classCircuit.html#a6de1ee8833171eb825fd36d0be158712" title="Iterates through the units in the circuit until convergence or maximum iterations are reached." alt="" coords="402,42,540,68"/>
<area shape="poly" title=" " alt="" coords="573,58,541,58,541,52,573,52"/>
<area shape="rect" href="CSimulator_8cpp.html#a0c0dc657ea14231767678e4cc0b28795" title=" " alt="" coords="237,42,354,68"/>
<area shape="poly" title=" " alt="" coords="386,58,355,58,355,52,386,52"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,47,189,42,189,37,222,41"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,68,122,82,122,77,221,63"/>
</map>
</div>

</div>
</div>
<a id="a0f713cdd5b293e5b77fca2d33f301f3a" name="a0f713cdd5b293e5b77fca2d33f301f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f713cdd5b293e5b77fca2d33f301f3a">&#9670;&#160;</a></span>get_final_output_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Circuit::get_final_output_source </td>
          <td>(</td>
          <td class="paramtype">std::array&lt; <a class="el" href="classCUnit.html">CUnit</a>, 2 &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>outputs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classCUnit.html">CUnit</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>Units</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves all input units for the final output in the circuit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outputs</td><td>Array of final output units. </td></tr>
    <tr><td class="paramname">Units</td><td>Vector of circuit units.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function populates the input_info of the final output units with the units that contribute to their input streams. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00175">175</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  175</span>                                                                                         {</div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 2; ++j) {</div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; Units.size(); ++i) {</div>
<div class="line"><span class="lineno">  178</span>            <span class="keywordflow">if</span> (Units[i].conc_num == Units.size() + j) {</div>
<div class="line"><span class="lineno">  179</span>                <a class="code hl_variable" href="#a826058132f5e781488f34831d3243919">final_output</a>[j].input_info.emplace_back(i, 0); <span class="comment">// 0 represents concentrate stream</span></div>
<div class="line"><span class="lineno">  180</span>            }</div>
<div class="line"><span class="lineno">  181</span>            <span class="keywordflow">if</span> (Units[i].inter_num == Units.size() + j) {</div>
<div class="line"><span class="lineno">  182</span>                <a class="code hl_variable" href="#a826058132f5e781488f34831d3243919">final_output</a>[j].input_info.emplace_back(i, 1); <span class="comment">// 1 represents intermediate stream</span></div>
<div class="line"><span class="lineno">  183</span>            }</div>
<div class="line"><span class="lineno">  184</span>            <span class="keywordflow">if</span> (Units[i].tails_num == Units.size() + j) {</div>
<div class="line"><span class="lineno">  185</span>                <a class="code hl_variable" href="#a826058132f5e781488f34831d3243919">final_output</a>[j].input_info.emplace_back(i, 2); <span class="comment">// 2 represents tails stream</span></div>
<div class="line"><span class="lineno">  186</span>            }</div>
<div class="line"><span class="lineno">  187</span>        }</div>
<div class="line"><span class="lineno">  188</span>    }</div>
<div class="line"><span class="lineno">  189</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="CCircuit_8h_source.html#l00138">final_output</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a0f713cdd5b293e5b77fca2d33f301f3a_icgraph.png" border="0" usemap="#aclassCircuit_a0f713cdd5b293e5b77fca2d33f301f3a_icgraph" alt=""/></div>
<map name="aclassCircuit_a0f713cdd5b293e5b77fca2d33f301f3a_icgraph" id="aclassCircuit_a0f713cdd5b293e5b77fca2d33f301f3a_icgraph">
<area shape="rect" title="Retrieves all input units for the final output in the circuit." alt="" coords="588,35,705,75"/>
<area shape="rect" href="classCircuit.html#a6de1ee8833171eb825fd36d0be158712" title="Iterates through the units in the circuit until convergence or maximum iterations are reached." alt="" coords="402,42,540,68"/>
<area shape="poly" title=" " alt="" coords="572,58,541,58,541,52,572,52"/>
<area shape="rect" href="CSimulator_8cpp.html#a0c0dc657ea14231767678e4cc0b28795" title=" " alt="" coords="237,42,354,68"/>
<area shape="poly" title=" " alt="" coords="386,58,355,58,355,52,386,52"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,47,189,42,189,37,222,41"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,68,122,82,122,77,221,63"/>
</map>
</div>

</div>
</div>
<a id="a49bccd75e578d4f73519b79718452d65" name="a49bccd75e578d4f73519b79718452d65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49bccd75e578d4f73519b79718452d65">&#9670;&#160;</a></span>get_input_units()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Circuit::get_input_units </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classCUnit.html">CUnit</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>Units</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>unit_num</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves all input units for a single unit in the circuit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Units</td><td>Vector of units in the circuit. </td></tr>
    <tr><td class="paramname">unit_num</td><td>The unit number for which input units are retrieved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function populates the input_info of the specified unit with its input units. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00153">153</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  154</span>{</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; Units.size(); ++i) {</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">if</span> (Units[i].conc_num == unit_num) {</div>
<div class="line"><span class="lineno">  157</span>            Units[unit_num].input_info.emplace_back(i, 0);  <span class="comment">// 0 表示 concentrated</span></div>
<div class="line"><span class="lineno">  158</span>        }</div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordflow">if</span> (Units[i].inter_num == unit_num) {</div>
<div class="line"><span class="lineno">  160</span>            Units[unit_num].input_info.emplace_back(i, 1);  <span class="comment">// 1 表示 intermediate</span></div>
<div class="line"><span class="lineno">  161</span>        }</div>
<div class="line"><span class="lineno">  162</span>        <span class="keywordflow">if</span> (Units[i].tails_num == unit_num) {</div>
<div class="line"><span class="lineno">  163</span>            Units[unit_num].input_info.emplace_back(i, 2);  <span class="comment">// 2 表示 tails</span></div>
<div class="line"><span class="lineno">  164</span>        }</div>
<div class="line"><span class="lineno">  165</span>    }</div>
<div class="line"><span class="lineno">  166</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00168">get_all_input_units()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a49bccd75e578d4f73519b79718452d65_icgraph.png" border="0" usemap="#aclassCircuit_a49bccd75e578d4f73519b79718452d65_icgraph" alt=""/></div>
<map name="aclassCircuit_a49bccd75e578d4f73519b79718452d65_icgraph" id="aclassCircuit_a49bccd75e578d4f73519b79718452d65_icgraph">
<area shape="rect" title="Retrieves all input units for a single unit in the circuit." alt="" coords="777,35,897,75"/>
<area shape="rect" href="classCircuit.html#a16f7c46030b7214c9273c864428df1f2" title="Retrieves all input units for all units in the circuit." alt="" coords="588,35,729,75"/>
<area shape="poly" title=" " alt="" coords="761,58,729,58,729,52,761,52"/>
<area shape="rect" href="classCircuit.html#a6de1ee8833171eb825fd36d0be158712" title="Iterates through the units in the circuit until convergence or maximum iterations are reached." alt="" coords="402,42,540,68"/>
<area shape="poly" title=" " alt="" coords="573,58,541,58,541,52,573,52"/>
<area shape="rect" href="CSimulator_8cpp.html#a0c0dc657ea14231767678e4cc0b28795" title=" " alt="" coords="237,42,354,68"/>
<area shape="poly" title=" " alt="" coords="386,58,355,58,355,52,386,52"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,47,189,42,189,37,222,41"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,68,122,82,122,77,221,63"/>
</map>
</div>

</div>
</div>
<a id="a38c7a54a7a307a6c9166f15c3c1f0cfc" name="a38c7a54a7a307a6c9166f15c3c1f0cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38c7a54a7a307a6c9166f15c3c1f0cfc">&#9670;&#160;</a></span>initialize_units()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Circuit::initialize_units </td>
          <td>(</td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>circuit_vector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>F_in_valuable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>F_in_waste</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the units in the circuit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">circuit_vector</td><td>Pointer to the circuit vector. </td></tr>
    <tr><td class="paramname">F_in_valuable</td><td>Initial valuable flow rate. </td></tr>
    <tr><td class="paramname">F_in_waste</td><td>Initial waste flow rate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function sets up the initial configuration of the circuit units. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00138">138</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  139</span>{</div>
<div class="line"><span class="lineno">  140</span>    <a class="code hl_variable" href="#a0a00a2924513700c67940707872324f7">initial_F_g</a> = F_in_valuable;</div>
<div class="line"><span class="lineno">  141</span>    <a class="code hl_variable" href="#aafce84e26600602ad49bf26ab017ee59">initial_F_w</a> = F_in_waste;</div>
<div class="line"><span class="lineno">  142</span>    <span class="keyword">auto</span> vec = circuit_vector;</div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_variable" href="#a03036c30a1ee6c0546b0b11de609c099">first_feed</a> = vec[0];</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size(); ++i) {</div>
<div class="line"><span class="lineno">  145</span>        <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].self_num = i;</div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].conc_num = vec[i * 3 + 1];</div>
<div class="line"><span class="lineno">  147</span>        <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].inter_num = vec[i * 3 + 2];</div>
<div class="line"><span class="lineno">  148</span>        <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].tails_num = vec[i * 3 + 3];</div>
<div class="line"><span class="lineno">  149</span>        <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].mark = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  150</span>    }</div>
<div class="line"><span class="lineno">  151</span>}</div>
<div class="ttc" id="aclassCircuit_html_a03036c30a1ee6c0546b0b11de609c099"><div class="ttname"><a href="#a03036c30a1ee6c0546b0b11de609c099">Circuit::first_feed</a></div><div class="ttdeci">int first_feed</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8h_source.html#l00017">CCircuit.h:17</a></div></div>
<div class="ttc" id="aclassCircuit_html_a0a00a2924513700c67940707872324f7"><div class="ttname"><a href="#a0a00a2924513700c67940707872324f7">Circuit::initial_F_g</a></div><div class="ttdeci">double initial_F_g</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8h_source.html#l00015">CCircuit.h:15</a></div></div>
<div class="ttc" id="aclassCircuit_html_aafce84e26600602ad49bf26ab017ee59"><div class="ttname"><a href="#aafce84e26600602ad49bf26ab017ee59">Circuit::initial_F_w</a></div><div class="ttdeci">double initial_F_w</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8h_source.html#l00016">CCircuit.h:16</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="CCircuit_8h_source.html#l00017">first_feed</a>, <a class="el" href="CCircuit_8h_source.html#l00015">initial_F_g</a>, <a class="el" href="CCircuit_8h_source.html#l00016">initial_F_w</a>, and <a class="el" href="CCircuit_8h_source.html#l00136">units</a>.</p>

<p class="reference">Referenced by <a class="el" href="CSimulator_8cpp_source.html#l00010">Evaluate_Circuit()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a38c7a54a7a307a6c9166f15c3c1f0cfc_icgraph.png" border="0" usemap="#aclassCircuit_a38c7a54a7a307a6c9166f15c3c1f0cfc_icgraph" alt=""/></div>
<map name="aclassCircuit_a38c7a54a7a307a6c9166f15c3c1f0cfc_icgraph" id="aclassCircuit_a38c7a54a7a307a6c9166f15c3c1f0cfc_icgraph">
<area shape="rect" title="Initializes the units in the circuit." alt="" coords="402,35,516,75"/>
<area shape="rect" href="CSimulator_8cpp.html#a0c0dc657ea14231767678e4cc0b28795" title=" " alt="" coords="237,42,354,68"/>
<area shape="poly" title=" " alt="" coords="386,58,354,58,354,52,386,52"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,47,189,42,189,37,222,41"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,68,122,82,122,77,221,63"/>
</map>
</div>

</div>
</div>
<a id="a6de1ee8833171eb825fd36d0be158712" name="a6de1ee8833171eb825fd36d0be158712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6de1ee8833171eb825fd36d0be158712">&#9670;&#160;</a></span>iterate_units()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Circuit::iterate_units </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>max_iterations</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>tol</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Iterates through the units in the circuit until convergence or maximum iterations are reached. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_iterations</td><td>Maximum number of iterations. </td></tr>
    <tr><td class="paramname">tol</td><td>Convergence tolerance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function simulates the circuit until the results converge or the maximum number of iterations is reached. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00250">250</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  251</span>{</div>
<div class="line"><span class="lineno">  252</span>    <a class="code hl_function" href="#a16f7c46030b7214c9273c864428df1f2">get_all_input_units</a>();</div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_function" href="#a0f713cdd5b293e5b77fca2d33f301f3a">get_final_output_source</a>(<a class="code hl_variable" href="#a826058132f5e781488f34831d3243919">final_output</a>, <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>);</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordtype">int</span> iterations = 0;</div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; max_iterations; i++) {</div>
<div class="line"><span class="lineno">  257</span>        <span class="comment">//std::cout &lt;&lt; &quot;Iteration: &quot; &lt;&lt; iterations &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; unit : <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>) {</div>
<div class="line"><span class="lineno">  259</span>            unit.save_current_input_flow();</div>
<div class="line"><span class="lineno">  260</span>            unit.reset_input_flow();</div>
<div class="line"><span class="lineno">  261</span>        }</div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code hl_variable" href="#af0deeb10e756cbea2a3944ee40254d2c">output</a> : <a class="code hl_variable" href="#a826058132f5e781488f34831d3243919">final_output</a>) {</div>
<div class="line"><span class="lineno">  263</span>            <a class="code hl_variable" href="#af0deeb10e756cbea2a3944ee40254d2c">output</a>.save_current_input_flow();</div>
<div class="line"><span class="lineno">  264</span>            <a class="code hl_variable" href="#af0deeb10e756cbea2a3944ee40254d2c">output</a>.reset_input_flow();</div>
<div class="line"><span class="lineno">  265</span>        }</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">if</span> (iterations == 0) {</div>
<div class="line"><span class="lineno">  267</span>            <span class="comment">// use initial guess as the feed for every unit</span></div>
<div class="line"><span class="lineno">  268</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size(); i++) {</div>
<div class="line"><span class="lineno">  269</span>                <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[i].initialise_flow(<a class="code hl_variable" href="#a0a00a2924513700c67940707872324f7">initial_F_g</a>, <a class="code hl_variable" href="#aafce84e26600602ad49bf26ab017ee59">initial_F_w</a>);</div>
<div class="line"><span class="lineno">  270</span>            }</div>
<div class="line"><span class="lineno">  271</span>        }</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>        <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[<a class="code hl_variable" href="#a03036c30a1ee6c0546b0b11de609c099">first_feed</a>].initialise_flow(<a class="code hl_variable" href="#a0a00a2924513700c67940707872324f7">initial_F_g</a>, <a class="code hl_variable" href="#aafce84e26600602ad49bf26ab017ee59">initial_F_w</a>);</div>
<div class="line"><span class="lineno">  274</span>        <a class="code hl_function" href="#afdc1ce22d098a6bc6d0fc7bafd84b91a">update_input</a>(<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>);</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>        <span class="comment">//print unit 0&#39;s input</span></div>
<div class="line"><span class="lineno">  277</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; unit : <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>) {</div>
<div class="line"><span class="lineno">  278</span>            <span class="keywordflow">if</span> (unit.current_F_g + unit.current_F_w == 0) {</div>
<div class="line"><span class="lineno">  279</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  280</span>            }</div>
<div class="line"><span class="lineno">  281</span>            <a class="code hl_function" href="#a638fdbcbaf68b80ce1c3196fb9b0d8c5">one_unit</a>(unit);</div>
<div class="line"><span class="lineno">  282</span>        }</div>
<div class="line"><span class="lineno">  283</span>        <a class="code hl_function" href="#abe7e217cba58f33c7224be9e536a814f">update_final_output</a>(this-&gt;<a class="code hl_variable" href="#a826058132f5e781488f34831d3243919">final_output</a>, <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>);</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>        <span class="comment">// visualise the units</span></div>
<div class="line"><span class="lineno">  286</span>        <span class="comment">// for (auto&amp; unit : units) {</span></div>
<div class="line"><span class="lineno">  287</span>        <span class="comment">//     unit.visualize();</span></div>
<div class="line"><span class="lineno">  288</span>        <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  289</span>        <a class="code hl_variable" href="#a03d16f0c859c5268bf4440e267f06ba2">converged</a> = <a class="code hl_function" href="#a83b68d1429ef11a41fbd14a9b9e2473f">check_convergence</a>(tol);</div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a03d16f0c859c5268bf4440e267f06ba2">converged</a>) {</div>
<div class="line"><span class="lineno">  291</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  292</span>        }</div>
<div class="line"><span class="lineno">  293</span>        iterations++;</div>
<div class="line"><span class="lineno">  294</span>    }</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>}</div>
<div class="ttc" id="aclassCircuit_html_a03d16f0c859c5268bf4440e267f06ba2"><div class="ttname"><a href="#a03d16f0c859c5268bf4440e267f06ba2">Circuit::converged</a></div><div class="ttdeci">bool converged</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8h_source.html#l00018">CCircuit.h:18</a></div></div>
<div class="ttc" id="aclassCircuit_html_a0f713cdd5b293e5b77fca2d33f301f3a"><div class="ttname"><a href="#a0f713cdd5b293e5b77fca2d33f301f3a">Circuit::get_final_output_source</a></div><div class="ttdeci">void get_final_output_source(std::array&lt; CUnit, 2 &gt; &amp;outputs, std::vector&lt; CUnit &gt; &amp;Units)</div><div class="ttdoc">Retrieves all input units for the final output in the circuit.</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8cpp_source.html#l00175">CCircuit.cpp:175</a></div></div>
<div class="ttc" id="aclassCircuit_html_a16f7c46030b7214c9273c864428df1f2"><div class="ttname"><a href="#a16f7c46030b7214c9273c864428df1f2">Circuit::get_all_input_units</a></div><div class="ttdeci">void get_all_input_units()</div><div class="ttdoc">Retrieves all input units for all units in the circuit.</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8cpp_source.html#l00168">CCircuit.cpp:168</a></div></div>
<div class="ttc" id="aclassCircuit_html_a638fdbcbaf68b80ce1c3196fb9b0d8c5"><div class="ttname"><a href="#a638fdbcbaf68b80ce1c3196fb9b0d8c5">Circuit::one_unit</a></div><div class="ttdeci">void one_unit(CUnit &amp;cunit)</div><div class="ttdoc">Calculates the flow rates for a single unit.</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8cpp_source.html#l00232">CCircuit.cpp:232</a></div></div>
<div class="ttc" id="aclassCircuit_html_a83b68d1429ef11a41fbd14a9b9e2473f"><div class="ttname"><a href="#a83b68d1429ef11a41fbd14a9b9e2473f">Circuit::check_convergence</a></div><div class="ttdeci">bool check_convergence(double tol)</div><div class="ttdoc">Checks if the circuit has converged based on the tolerance.</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8cpp_source.html#l00324">CCircuit.cpp:324</a></div></div>
<div class="ttc" id="aclassCircuit_html_abe7e217cba58f33c7224be9e536a814f"><div class="ttname"><a href="#abe7e217cba58f33c7224be9e536a814f">Circuit::update_final_output</a></div><div class="ttdeci">void update_final_output(std::array&lt; CUnit, 2 &gt; &amp;fin_output, std::vector&lt; CUnit &gt; &amp;cunits)</div><div class="ttdoc">Updates the final output with the geradium and waste received.</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8cpp_source.html#l00191">CCircuit.cpp:191</a></div></div>
<div class="ttc" id="aclassCircuit_html_af0deeb10e756cbea2a3944ee40254d2c"><div class="ttname"><a href="#af0deeb10e756cbea2a3944ee40254d2c">Circuit::output</a></div><div class="ttdeci">std::vector&lt; double &gt; output</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8h_source.html#l00137">CCircuit.h:137</a></div></div>
<div class="ttc" id="aclassCircuit_html_afdc1ce22d098a6bc6d0fc7bafd84b91a"><div class="ttname"><a href="#afdc1ce22d098a6bc6d0fc7bafd84b91a">Circuit::update_input</a></div><div class="ttdeci">void update_input(std::vector&lt; CUnit &gt; &amp;units)</div><div class="ttdoc">Updates the input flow rates for all units in the circuit.</div><div class="ttdef"><b>Definition</b> <a href="CCircuit_8cpp_source.html#l00211">CCircuit.cpp:211</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="CCircuit_8cpp_source.html#l00324">check_convergence()</a>, <a class="el" href="CCircuit_8h_source.html#l00018">converged</a>, <a class="el" href="CCircuit_8h_source.html#l00138">final_output</a>, <a class="el" href="CCircuit_8h_source.html#l00017">first_feed</a>, <a class="el" href="CCircuit_8cpp_source.html#l00168">get_all_input_units()</a>, <a class="el" href="CCircuit_8cpp_source.html#l00175">get_final_output_source()</a>, <a class="el" href="CCircuit_8h_source.html#l00015">initial_F_g</a>, <a class="el" href="CCircuit_8h_source.html#l00016">initial_F_w</a>, <a class="el" href="CCircuit_8cpp_source.html#l00232">one_unit()</a>, <a class="el" href="CCircuit_8h_source.html#l00137">output</a>, <a class="el" href="CCircuit_8h_source.html#l00136">units</a>, <a class="el" href="CCircuit_8cpp_source.html#l00191">update_final_output()</a>, and <a class="el" href="CCircuit_8cpp_source.html#l00211">update_input()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CSimulator_8cpp_source.html#l00010">Evaluate_Circuit()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a6de1ee8833171eb825fd36d0be158712_cgraph.png" border="0" usemap="#aclassCircuit_a6de1ee8833171eb825fd36d0be158712_cgraph" alt=""/></div>
<map name="aclassCircuit_a6de1ee8833171eb825fd36d0be158712_cgraph" id="aclassCircuit_a6de1ee8833171eb825fd36d0be158712_cgraph">
<area shape="rect" title="Iterates through the units in the circuit until convergence or maximum iterations are reached." alt="" coords="5,157,144,183"/>
<area shape="rect" href="classCircuit.html#a83b68d1429ef11a41fbd14a9b9e2473f" title="Checks if the circuit has converged based on the tolerance." alt="" coords="192,5,375,31"/>
<area shape="poly" title=" " alt="" coords="82,155,124,100,155,68,190,41,202,35,204,40,193,46,158,72,128,104,86,158"/>
<area shape="rect" href="classCircuit.html#a16f7c46030b7214c9273c864428df1f2" title="Retrieves all input units for all units in the circuit." alt="" coords="213,55,354,96"/>
<area shape="poly" title=" " alt="" coords="98,154,191,106,207,99,209,104,193,111,100,159"/>
<area shape="rect" href="classCircuit.html#a0f713cdd5b293e5b77fca2d33f301f3a" title="Retrieves all input units for the final output in the circuit." alt="" coords="225,121,342,161"/>
<area shape="poly" title=" " alt="" coords="144,158,209,149,210,154,144,163"/>
<area shape="rect" href="classCircuit.html#a638fdbcbaf68b80ce1c3196fb9b0d8c5" title="Calculates the flow rates for a single unit." alt="" coords="225,185,342,211"/>
<area shape="poly" title=" " alt="" coords="144,177,210,186,209,191,144,182"/>
<area shape="rect" href="classCircuit.html#abe7e217cba58f33c7224be9e536a814f" title="Updates the final output with the geradium and waste received." alt="" coords="215,235,352,276"/>
<area shape="poly" title=" " alt="" coords="104,181,193,221,207,227,205,232,191,226,102,186"/>
<area shape="rect" href="classCircuit.html#afdc1ce22d098a6bc6d0fc7bafd84b91a" title="Updates the input flow rates for all units in the circuit." alt="" coords="213,300,354,326"/>
<area shape="poly" title=" " alt="" coords="87,182,130,233,159,261,193,285,205,292,203,296,190,290,156,265,126,236,83,185"/>
<area shape="rect" href="classCircuit.html#a49bccd75e578d4f73519b79718452d65" title="Retrieves all input units for a single unit in the circuit." alt="" coords="449,55,569,96"/>
<area shape="poly" title=" " alt="" coords="354,73,434,73,434,78,354,78"/>
<area shape="rect" href="classCUnit.html#aa86e1b1321f9b6f2e3041c0df29c3bc3" title="Calculates the recovery rates for the CUnit." alt="" coords="423,150,595,191"/>
<area shape="poly" title=" " alt="" coords="342,188,407,180,408,185,342,194"/>
<area shape="rect" href="classCUnit.html#a1981b484b36fdea0c9641c55ffb1001a" title="Calculates the residence time (tau) for the CUnit." alt="" coords="439,215,579,240"/>
<area shape="poly" title=" " alt="" coords="342,203,424,214,423,219,342,208"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a6de1ee8833171eb825fd36d0be158712_icgraph.png" border="0" usemap="#aclassCircuit_a6de1ee8833171eb825fd36d0be158712_icgraph" alt=""/></div>
<map name="aclassCircuit_a6de1ee8833171eb825fd36d0be158712_icgraph" id="aclassCircuit_a6de1ee8833171eb825fd36d0be158712_icgraph">
<area shape="rect" title="Iterates through the units in the circuit until convergence or maximum iterations are reached." alt="" coords="402,42,540,68"/>
<area shape="rect" href="CSimulator_8cpp.html#a0c0dc657ea14231767678e4cc0b28795" title=" " alt="" coords="237,42,354,68"/>
<area shape="poly" title=" " alt="" coords="386,58,355,58,355,52,386,52"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,47,189,42,189,37,222,41"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,68,122,82,122,77,221,63"/>
</map>
</div>

</div>
</div>
<a id="a77e630f3c6c0fd42f3945c16b6542cd0" name="a77e630f3c6c0fd42f3945c16b6542cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77e630f3c6c0fd42f3945c16b6542cd0">&#9670;&#160;</a></span>mark_units()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Circuit::mark_units </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>unit_num</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Marks the units starting from a given unit number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unit_num</td><td>The starting unit number for marking.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function recursively marks units connected to the given unit. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00298">298</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>                                     {</div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[unit_num].mark) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  300</span>    this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[unit_num].mark = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>    <span class="comment">// if conc_num points to another unit, recursively call mark_units</span></div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[unit_num].conc_num &lt; this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size()) {</div>
<div class="line"><span class="lineno">  304</span>        <a class="code hl_function" href="#a77e630f3c6c0fd42f3945c16b6542cd0">mark_units</a>(this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[unit_num].conc_num);</div>
<div class="line"><span class="lineno">  305</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  306</span>        <a class="code hl_variable" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a>[0] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  307</span>    }</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    <span class="comment">// if inter_num points to another unit, recursively call mark_units</span></div>
<div class="line"><span class="lineno">  310</span>    <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[unit_num].inter_num &lt; this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size()) {</div>
<div class="line"><span class="lineno">  311</span>        <a class="code hl_function" href="#a77e630f3c6c0fd42f3945c16b6542cd0">mark_units</a>(this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[unit_num].inter_num);</div>
<div class="line"><span class="lineno">  312</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  313</span>        <a class="code hl_variable" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a>[1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  314</span>    }</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>    <span class="comment">// if tails_num points to another unit, recursively call mark_units</span></div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">if</span> (this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[unit_num].tails_num &lt; this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size()) {</div>
<div class="line"><span class="lineno">  318</span>        <a class="code hl_function" href="#a77e630f3c6c0fd42f3945c16b6542cd0">mark_units</a>(this-&gt;<a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[unit_num].tails_num);</div>
<div class="line"><span class="lineno">  319</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  320</span>        <a class="code hl_variable" href="#ac8dc27eba5dec4d219f547989661a45a">validation</a>[2] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  321</span>    }</div>
<div class="line"><span class="lineno">  322</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="CCircuit_8cpp_source.html#l00298">mark_units()</a>, <a class="el" href="CCircuit_8h_source.html#l00136">units</a>, and <a class="el" href="CCircuit_8h_source.html#l00150">validation</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00013">Check_Validity()</a>, and <a class="el" href="CCircuit_8cpp_source.html#l00298">mark_units()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a77e630f3c6c0fd42f3945c16b6542cd0_cgraph.png" border="0" usemap="#aclassCircuit_a77e630f3c6c0fd42f3945c16b6542cd0_cgraph" alt=""/></div>
<map name="aclassCircuit_a77e630f3c6c0fd42f3945c16b6542cd0_cgraph" id="aclassCircuit_a77e630f3c6c0fd42f3945c16b6542cd0_cgraph">
<area shape="rect" title="Marks the units starting from a given unit number." alt="" coords="5,29,137,55"/>
<area shape="poly" title=" " alt="" coords="48,30,44,21,46,11,56,5,71,3,87,5,96,12,93,16,85,10,71,8,58,10,51,14,49,20,53,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a77e630f3c6c0fd42f3945c16b6542cd0_icgraph.png" border="0" usemap="#aclassCircuit_a77e630f3c6c0fd42f3945c16b6542cd0_icgraph" alt=""/></div>
<map name="aclassCircuit_a77e630f3c6c0fd42f3945c16b6542cd0_icgraph" id="aclassCircuit_a77e630f3c6c0fd42f3945c16b6542cd0_icgraph">
<area shape="rect" title="Marks the units starting from a given unit number." alt="" coords="439,42,570,68"/>
<area shape="poly" title=" " alt="" coords="537,29,526,23,505,21,485,23,474,28,472,33,477,40,473,43,466,34,470,24,483,18,505,16,528,18,540,25"/>
<area shape="rect" href="classCircuit.html#a9f30a1f36f8733fe49cf515ec4387e28" title="Checks the validity of the circuit configuration." alt="" coords="237,42,391,68"/>
<area shape="poly" title=" " alt="" coords="424,58,391,58,391,52,424,52"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,45,189,41,190,35,222,40"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,70,123,83,122,77,221,64"/>
</map>
</div>

</div>
</div>
<a id="a638fdbcbaf68b80ce1c3196fb9b0d8c5" name="a638fdbcbaf68b80ce1c3196fb9b0d8c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a638fdbcbaf68b80ce1c3196fb9b0d8c5">&#9670;&#160;</a></span>one_unit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Circuit::one_unit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCUnit.html">CUnit</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cunit</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the flow rates for a single unit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cunit</td><td>Reference to the unit for which flow rates are calculated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function calculates the flow rates for concentrate, intermediate, and tails streams. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00232">232</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  233</span>{</div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">// calculate tau</span></div>
<div class="line"><span class="lineno">  235</span>    cunit.<a class="code hl_function" href="classCUnit.html#a1981b484b36fdea0c9641c55ffb1001a">calculate_tau</a>(cunit.<a class="code hl_variable" href="classCUnit.html#a69fc7611a6afd62a8073ab006da66a23">current_F_g</a>, cunit.<a class="code hl_variable" href="classCUnit.html#aaed9f27f9017ca9bc10088ae0626452b">current_F_w</a>);</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>    <span class="comment">// calculate recovery rates</span></div>
<div class="line"><span class="lineno">  238</span>    cunit.<a class="code hl_function" href="classCUnit.html#aa86e1b1321f9b6f2e3041c0df29c3bc3">calculate_recovery_rates</a>();</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>    <span class="comment">// calculate flow out rates</span></div>
<div class="line"><span class="lineno">  242</span>    cunit.<a class="code hl_variable" href="classCUnit.html#a0e09b340b16140ca13945bb50759a349">C_g</a> = cunit.<a class="code hl_variable" href="classCUnit.html#a69fc7611a6afd62a8073ab006da66a23">current_F_g</a>* cunit.<a class="code hl_variable" href="classCUnit.html#a164db639908a16d2b727541a3d96ceef">R_C_G</a>;</div>
<div class="line"><span class="lineno">  243</span>    cunit.<a class="code hl_variable" href="classCUnit.html#a919fe45ec3c207abd8507f03ff8a6153">C_w</a> = cunit.<a class="code hl_variable" href="classCUnit.html#aaed9f27f9017ca9bc10088ae0626452b">current_F_w</a>* cunit.<a class="code hl_variable" href="classCUnit.html#aefd2ac456b8b2de7ad7c600730b9462e">R_C_W</a>;</div>
<div class="line"><span class="lineno">  244</span>    cunit.<a class="code hl_variable" href="classCUnit.html#a3bf1faff3c145083dc4111856c7e999b">I_g</a> = cunit.<a class="code hl_variable" href="classCUnit.html#a69fc7611a6afd62a8073ab006da66a23">current_F_g</a>* cunit.<a class="code hl_variable" href="classCUnit.html#a3d2a606510c5fb976d663ad339cbf4be">R_I_G</a>;</div>
<div class="line"><span class="lineno">  245</span>    cunit.<a class="code hl_variable" href="classCUnit.html#a61925d12bf954cb36cee5cd0e9bdeaa3">I_w</a> = cunit.<a class="code hl_variable" href="classCUnit.html#aaed9f27f9017ca9bc10088ae0626452b">current_F_w</a>* cunit.<a class="code hl_variable" href="classCUnit.html#a7c51863da573c213624b3179cd155913">R_I_W</a>;</div>
<div class="line"><span class="lineno">  246</span>    cunit.<a class="code hl_variable" href="classCUnit.html#a08a523d3e5eb173263f6f60652ddeaed">T_g</a> = cunit.<a class="code hl_variable" href="classCUnit.html#a69fc7611a6afd62a8073ab006da66a23">current_F_g</a>* (1 - cunit.<a class="code hl_variable" href="classCUnit.html#a164db639908a16d2b727541a3d96ceef">R_C_G</a> - cunit.<a class="code hl_variable" href="classCUnit.html#a3d2a606510c5fb976d663ad339cbf4be">R_I_G</a>);</div>
<div class="line"><span class="lineno">  247</span>    cunit.<a class="code hl_variable" href="classCUnit.html#a9c9e57f9a188fd924a1a678f6532ea3a">T_w</a> = cunit.<a class="code hl_variable" href="classCUnit.html#aaed9f27f9017ca9bc10088ae0626452b">current_F_w</a>* (1 - cunit.<a class="code hl_variable" href="classCUnit.html#aefd2ac456b8b2de7ad7c600730b9462e">R_C_W</a> - cunit.<a class="code hl_variable" href="classCUnit.html#a7c51863da573c213624b3179cd155913">R_I_W</a>);</div>
<div class="line"><span class="lineno">  248</span>}</div>
<div class="ttc" id="aclassCUnit_html_a08a523d3e5eb173263f6f60652ddeaed"><div class="ttname"><a href="classCUnit.html#a08a523d3e5eb173263f6f60652ddeaed">CUnit::T_g</a></div><div class="ttdeci">double T_g</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00041">CUnit.h:41</a></div></div>
<div class="ttc" id="aclassCUnit_html_a0e09b340b16140ca13945bb50759a349"><div class="ttname"><a href="classCUnit.html#a0e09b340b16140ca13945bb50759a349">CUnit::C_g</a></div><div class="ttdeci">double C_g</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00037">CUnit.h:37</a></div></div>
<div class="ttc" id="aclassCUnit_html_a164db639908a16d2b727541a3d96ceef"><div class="ttname"><a href="classCUnit.html#a164db639908a16d2b727541a3d96ceef">CUnit::R_C_G</a></div><div class="ttdeci">double R_C_G</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00031">CUnit.h:31</a></div></div>
<div class="ttc" id="aclassCUnit_html_a1981b484b36fdea0c9641c55ffb1001a"><div class="ttname"><a href="classCUnit.html#a1981b484b36fdea0c9641c55ffb1001a">CUnit::calculate_tau</a></div><div class="ttdeci">void calculate_tau(double F_g, double F_w)</div><div class="ttdoc">Calculates the residence time (tau) for the CUnit.</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8cpp_source.html#l00012">CUnit.cpp:12</a></div></div>
<div class="ttc" id="aclassCUnit_html_a3bf1faff3c145083dc4111856c7e999b"><div class="ttname"><a href="classCUnit.html#a3bf1faff3c145083dc4111856c7e999b">CUnit::I_g</a></div><div class="ttdeci">double I_g</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00039">CUnit.h:39</a></div></div>
<div class="ttc" id="aclassCUnit_html_a3d2a606510c5fb976d663ad339cbf4be"><div class="ttname"><a href="classCUnit.html#a3d2a606510c5fb976d663ad339cbf4be">CUnit::R_I_G</a></div><div class="ttdeci">double R_I_G</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00033">CUnit.h:33</a></div></div>
<div class="ttc" id="aclassCUnit_html_a61925d12bf954cb36cee5cd0e9bdeaa3"><div class="ttname"><a href="classCUnit.html#a61925d12bf954cb36cee5cd0e9bdeaa3">CUnit::I_w</a></div><div class="ttdeci">double I_w</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00040">CUnit.h:40</a></div></div>
<div class="ttc" id="aclassCUnit_html_a69fc7611a6afd62a8073ab006da66a23"><div class="ttname"><a href="classCUnit.html#a69fc7611a6afd62a8073ab006da66a23">CUnit::current_F_g</a></div><div class="ttdeci">double current_F_g</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00048">CUnit.h:48</a></div></div>
<div class="ttc" id="aclassCUnit_html_a7c51863da573c213624b3179cd155913"><div class="ttname"><a href="classCUnit.html#a7c51863da573c213624b3179cd155913">CUnit::R_I_W</a></div><div class="ttdeci">double R_I_W</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00034">CUnit.h:34</a></div></div>
<div class="ttc" id="aclassCUnit_html_a919fe45ec3c207abd8507f03ff8a6153"><div class="ttname"><a href="classCUnit.html#a919fe45ec3c207abd8507f03ff8a6153">CUnit::C_w</a></div><div class="ttdeci">double C_w</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00038">CUnit.h:38</a></div></div>
<div class="ttc" id="aclassCUnit_html_a9c9e57f9a188fd924a1a678f6532ea3a"><div class="ttname"><a href="classCUnit.html#a9c9e57f9a188fd924a1a678f6532ea3a">CUnit::T_w</a></div><div class="ttdeci">double T_w</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00042">CUnit.h:42</a></div></div>
<div class="ttc" id="aclassCUnit_html_aa86e1b1321f9b6f2e3041c0df29c3bc3"><div class="ttname"><a href="classCUnit.html#aa86e1b1321f9b6f2e3041c0df29c3bc3">CUnit::calculate_recovery_rates</a></div><div class="ttdeci">void calculate_recovery_rates()</div><div class="ttdoc">Calculates the recovery rates for the CUnit.</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8cpp_source.html#l00004">CUnit.cpp:4</a></div></div>
<div class="ttc" id="aclassCUnit_html_aaed9f27f9017ca9bc10088ae0626452b"><div class="ttname"><a href="classCUnit.html#aaed9f27f9017ca9bc10088ae0626452b">CUnit::current_F_w</a></div><div class="ttdeci">double current_F_w</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00049">CUnit.h:49</a></div></div>
<div class="ttc" id="aclassCUnit_html_aefd2ac456b8b2de7ad7c600730b9462e"><div class="ttname"><a href="classCUnit.html#aefd2ac456b8b2de7ad7c600730b9462e">CUnit::R_C_W</a></div><div class="ttdeci">double R_C_W</div><div class="ttdef"><b>Definition</b> <a href="CUnit_8h_source.html#l00032">CUnit.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="CUnit_8h_source.html#l00037">CUnit::C_g</a>, <a class="el" href="CUnit_8h_source.html#l00038">CUnit::C_w</a>, <a class="el" href="CUnit_8cpp_source.html#l00004">CUnit::calculate_recovery_rates()</a>, <a class="el" href="CUnit_8cpp_source.html#l00012">CUnit::calculate_tau()</a>, <a class="el" href="CUnit_8h_source.html#l00048">CUnit::current_F_g</a>, <a class="el" href="CUnit_8h_source.html#l00049">CUnit::current_F_w</a>, <a class="el" href="CUnit_8h_source.html#l00039">CUnit::I_g</a>, <a class="el" href="CUnit_8h_source.html#l00040">CUnit::I_w</a>, <a class="el" href="CUnit_8h_source.html#l00031">CUnit::R_C_G</a>, <a class="el" href="CUnit_8h_source.html#l00032">CUnit::R_C_W</a>, <a class="el" href="CUnit_8h_source.html#l00033">CUnit::R_I_G</a>, <a class="el" href="CUnit_8h_source.html#l00034">CUnit::R_I_W</a>, <a class="el" href="CUnit_8h_source.html#l00041">CUnit::T_g</a>, and <a class="el" href="CUnit_8h_source.html#l00042">CUnit::T_w</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a638fdbcbaf68b80ce1c3196fb9b0d8c5_cgraph.png" border="0" usemap="#aclassCircuit_a638fdbcbaf68b80ce1c3196fb9b0d8c5_cgraph" alt=""/></div>
<map name="aclassCircuit_a638fdbcbaf68b80ce1c3196fb9b0d8c5_cgraph" id="aclassCircuit_a638fdbcbaf68b80ce1c3196fb9b0d8c5_cgraph">
<area shape="rect" title="Calculates the flow rates for a single unit." alt="" coords="5,42,122,68"/>
<area shape="rect" href="classCUnit.html#aa86e1b1321f9b6f2e3041c0df29c3bc3" title="Calculates the recovery rates for the CUnit." alt="" coords="170,5,342,46"/>
<area shape="poly" title=" " alt="" coords="122,43,154,39,155,44,123,49"/>
<area shape="rect" href="classCUnit.html#a1981b484b36fdea0c9641c55ffb1001a" title="Calculates the residence time (tau) for the CUnit." alt="" coords="186,70,326,96"/>
<area shape="poly" title=" " alt="" coords="123,61,171,68,170,73,122,66"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_a638fdbcbaf68b80ce1c3196fb9b0d8c5_icgraph.png" border="0" usemap="#aclassCircuit_a638fdbcbaf68b80ce1c3196fb9b0d8c5_icgraph" alt=""/></div>
<map name="aclassCircuit_a638fdbcbaf68b80ce1c3196fb9b0d8c5_icgraph" id="aclassCircuit_a638fdbcbaf68b80ce1c3196fb9b0d8c5_icgraph">
<area shape="rect" title="Calculates the flow rates for a single unit." alt="" coords="588,42,705,68"/>
<area shape="rect" href="classCircuit.html#a6de1ee8833171eb825fd36d0be158712" title="Iterates through the units in the circuit until convergence or maximum iterations are reached." alt="" coords="402,42,540,68"/>
<area shape="poly" title=" " alt="" coords="572,58,541,58,541,52,572,52"/>
<area shape="rect" href="CSimulator_8cpp.html#a0c0dc657ea14231767678e4cc0b28795" title=" " alt="" coords="237,42,354,68"/>
<area shape="poly" title=" " alt="" coords="386,58,355,58,355,52,386,52"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,47,189,42,189,37,222,41"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,68,122,82,122,77,221,63"/>
</map>
</div>

</div>
</div>
<a id="abe7e217cba58f33c7224be9e536a814f" name="abe7e217cba58f33c7224be9e536a814f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe7e217cba58f33c7224be9e536a814f">&#9670;&#160;</a></span>update_final_output()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Circuit::update_final_output </td>
          <td>(</td>
          <td class="paramtype">std::array&lt; <a class="el" href="classCUnit.html">CUnit</a>, 2 &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>fin_output</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classCUnit.html">CUnit</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>cunits</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the final output with the geradium and waste received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fin_output</td><td>Array of final output units. </td></tr>
    <tr><td class="paramname">cunits</td><td>Vector of circuit units.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function updates the final output units with the flow rates from the input units. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00191">191</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  192</span>{</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 2; ++j) {</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; fin_output[j].input_info.size(); ++i) {</div>
<div class="line"><span class="lineno">  195</span>            <span class="keywordtype">int</span> input_unit_num = fin_output[j].input_info[i].first;</div>
<div class="line"><span class="lineno">  196</span>            <span class="keywordtype">int</span> input_type = fin_output[j].input_info[i].second;</div>
<div class="line"><span class="lineno">  197</span>            <span class="keywordflow">if</span> (input_type == 0) {</div>
<div class="line"><span class="lineno">  198</span>                fin_output[j].current_F_g += cunits[input_unit_num].C_g;</div>
<div class="line"><span class="lineno">  199</span>                fin_output[j].current_F_w += cunits[input_unit_num].C_w;</div>
<div class="line"><span class="lineno">  200</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (input_type == 1) {</div>
<div class="line"><span class="lineno">  201</span>                fin_output[j].current_F_g += cunits[input_unit_num].I_g;</div>
<div class="line"><span class="lineno">  202</span>                fin_output[j].current_F_w += cunits[input_unit_num].I_w;</div>
<div class="line"><span class="lineno">  203</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (input_type == 2) {</div>
<div class="line"><span class="lineno">  204</span>                fin_output[j].current_F_g += cunits[input_unit_num].T_g;</div>
<div class="line"><span class="lineno">  205</span>                fin_output[j].current_F_w += cunits[input_unit_num].T_w;</div>
<div class="line"><span class="lineno">  206</span>            }</div>
<div class="line"><span class="lineno">  207</span>        }</div>
<div class="line"><span class="lineno">  208</span>    }</div>
<div class="line"><span class="lineno">  209</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_abe7e217cba58f33c7224be9e536a814f_icgraph.png" border="0" usemap="#aclassCircuit_abe7e217cba58f33c7224be9e536a814f_icgraph" alt=""/></div>
<map name="aclassCircuit_abe7e217cba58f33c7224be9e536a814f_icgraph" id="aclassCircuit_abe7e217cba58f33c7224be9e536a814f_icgraph">
<area shape="rect" title="Updates the final output with the geradium and waste received." alt="" coords="588,35,726,75"/>
<area shape="rect" href="classCircuit.html#a6de1ee8833171eb825fd36d0be158712" title="Iterates through the units in the circuit until convergence or maximum iterations are reached." alt="" coords="402,42,540,68"/>
<area shape="poly" title=" " alt="" coords="573,58,541,58,541,52,573,52"/>
<area shape="rect" href="CSimulator_8cpp.html#a0c0dc657ea14231767678e4cc0b28795" title=" " alt="" coords="237,42,354,68"/>
<area shape="poly" title=" " alt="" coords="386,58,355,58,355,52,386,52"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,47,189,42,189,37,222,41"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,68,122,82,122,77,221,63"/>
</map>
</div>

</div>
</div>
<a id="afdc1ce22d098a6bc6d0fc7bafd84b91a" name="afdc1ce22d098a6bc6d0fc7bafd84b91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdc1ce22d098a6bc6d0fc7bafd84b91a">&#9670;&#160;</a></span>update_input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Circuit::update_input </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classCUnit.html">CUnit</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>units</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the input flow rates for all units in the circuit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">units</td><td>Vector of units in the circuit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function updates the current input flow rates for each unit based on its input units. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CCircuit_8cpp_source.html#l00211">211</a> of file <a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  212</span>{</div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>.size(); ++j) {</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordtype">int</span> num_of_inputs = <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[j].input_info.size();</div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_of_inputs; ++i) {</div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordtype">int</span> input_unit_num = <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[j].input_info[i].first;</div>
<div class="line"><span class="lineno">  217</span>            <span class="keywordtype">int</span> input_type = <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[j].input_info[i].second;</div>
<div class="line"><span class="lineno">  218</span>            <span class="keywordflow">if</span> (input_type == 0) {</div>
<div class="line"><span class="lineno">  219</span>                <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[j].current_F_g += <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[input_unit_num].C_g;</div>
<div class="line"><span class="lineno">  220</span>                <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[j].current_F_w += <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[input_unit_num].C_w;</div>
<div class="line"><span class="lineno">  221</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (input_type == 1) {</div>
<div class="line"><span class="lineno">  222</span>                <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[j].current_F_g += <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[input_unit_num].I_g;</div>
<div class="line"><span class="lineno">  223</span>                <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[j].current_F_w += <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[input_unit_num].I_w;</div>
<div class="line"><span class="lineno">  224</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (input_type == 2) {</div>
<div class="line"><span class="lineno">  225</span>                <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[j].current_F_g += <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[input_unit_num].T_g;</div>
<div class="line"><span class="lineno">  226</span>                <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[j].current_F_w += <a class="code hl_variable" href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">units</a>[input_unit_num].T_w;</div>
<div class="line"><span class="lineno">  227</span>            }</div>
<div class="line"><span class="lineno">  228</span>        }</div>
<div class="line"><span class="lineno">  229</span>    }</div>
<div class="line"><span class="lineno">  230</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="CCircuit_8h_source.html#l00136">units</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCircuit_afdc1ce22d098a6bc6d0fc7bafd84b91a_icgraph.png" border="0" usemap="#aclassCircuit_afdc1ce22d098a6bc6d0fc7bafd84b91a_icgraph" alt=""/></div>
<map name="aclassCircuit_afdc1ce22d098a6bc6d0fc7bafd84b91a_icgraph" id="aclassCircuit_afdc1ce22d098a6bc6d0fc7bafd84b91a_icgraph">
<area shape="rect" title="Updates the input flow rates for all units in the circuit." alt="" coords="588,42,730,68"/>
<area shape="rect" href="classCircuit.html#a6de1ee8833171eb825fd36d0be158712" title="Iterates through the units in the circuit until convergence or maximum iterations are reached." alt="" coords="402,42,540,68"/>
<area shape="poly" title=" " alt="" coords="573,58,541,58,541,52,573,52"/>
<area shape="rect" href="CSimulator_8cpp.html#a0c0dc657ea14231767678e4cc0b28795" title=" " alt="" coords="237,42,354,68"/>
<area shape="poly" title=" " alt="" coords="386,58,355,58,355,52,386,52"/>
<area shape="rect" href="classgridSearch.html#ae3b3831ada519fb74458580f94fce179" title=" " alt="" coords="5,5,189,46"/>
<area shape="poly" title=" " alt="" coords="221,47,189,42,189,37,222,41"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="72,70,122,96"/>
<area shape="poly" title=" " alt="" coords="222,68,122,82,122,77,221,63"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a03d16f0c859c5268bf4440e267f06ba2" name="a03d16f0c859c5268bf4440e267f06ba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03d16f0c859c5268bf4440e267f06ba2">&#9670;&#160;</a></span>converged</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Circuit::converged</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CCircuit_8h_source.html#l00018">18</a> of file <a class="el" href="CCircuit_8h_source.html">CCircuit.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>

</div>
</div>
<a id="a826058132f5e781488f34831d3243919" name="a826058132f5e781488f34831d3243919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a826058132f5e781488f34831d3243919">&#9670;&#160;</a></span>final_output</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;<a class="el" href="classCUnit.html">CUnit</a>,2&gt; Circuit::final_output</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CCircuit_8h_source.html#l00138">138</a> of file <a class="el" href="CCircuit_8h_source.html">CCircuit.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00334">evaluate_performance()</a>, <a class="el" href="CCircuit_8cpp_source.html#l00175">get_final_output_source()</a>, and <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>

</div>
</div>
<a id="a03036c30a1ee6c0546b0b11de609c099" name="a03036c30a1ee6c0546b0b11de609c099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03036c30a1ee6c0546b0b11de609c099">&#9670;&#160;</a></span>first_feed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Circuit::first_feed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CCircuit_8h_source.html#l00017">17</a> of file <a class="el" href="CCircuit_8h_source.html">CCircuit.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00138">initialize_units()</a>, and <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>

</div>
</div>
<a id="a0a00a2924513700c67940707872324f7" name="a0a00a2924513700c67940707872324f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a00a2924513700c67940707872324f7">&#9670;&#160;</a></span>initial_F_g</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Circuit::initial_F_g</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CCircuit_8h_source.html#l00015">15</a> of file <a class="el" href="CCircuit_8h_source.html">CCircuit.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00138">initialize_units()</a>, and <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>

</div>
</div>
<a id="aafce84e26600602ad49bf26ab017ee59" name="aafce84e26600602ad49bf26ab017ee59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafce84e26600602ad49bf26ab017ee59">&#9670;&#160;</a></span>initial_F_w</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Circuit::initial_F_w</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CCircuit_8h_source.html#l00016">16</a> of file <a class="el" href="CCircuit_8h_source.html">CCircuit.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00138">initialize_units()</a>, and <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>

</div>
</div>
<a id="af0deeb10e756cbea2a3944ee40254d2c" name="af0deeb10e756cbea2a3944ee40254d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0deeb10e756cbea2a3944ee40254d2c">&#9670;&#160;</a></span>output</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; Circuit::output</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CCircuit_8h_source.html#l00137">137</a> of file <a class="el" href="CCircuit_8h_source.html">CCircuit.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>.</p>

</div>
</div>
<a id="aa9bd1c2071b0b5175ea0b0bcaf2d786c" name="aa9bd1c2071b0b5175ea0b0bcaf2d786c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9bd1c2071b0b5175ea0b0bcaf2d786c">&#9670;&#160;</a></span>units</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classCUnit.html">CUnit</a>&gt; Circuit::units</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CCircuit_8h_source.html#l00136">136</a> of file <a class="el" href="CCircuit_8h_source.html">CCircuit.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00009">Circuit()</a>, <a class="el" href="CCircuit_8cpp_source.html#l00324">check_convergence()</a>, <a class="el" href="CCircuit_8cpp_source.html#l00013">Check_Validity()</a>, <a class="el" href="CCircuit_8cpp_source.html#l00168">get_all_input_units()</a>, <a class="el" href="CCircuit_8cpp_source.html#l00138">initialize_units()</a>, <a class="el" href="CCircuit_8cpp_source.html#l00250">iterate_units()</a>, <a class="el" href="CCircuit_8cpp_source.html#l00298">mark_units()</a>, and <a class="el" href="CCircuit_8cpp_source.html#l00211">update_input()</a>.</p>

</div>
</div>
<a id="ac8dc27eba5dec4d219f547989661a45a" name="ac8dc27eba5dec4d219f547989661a45a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8dc27eba5dec4d219f547989661a45a">&#9670;&#160;</a></span>validation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Circuit::validation[3]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CCircuit_8h_source.html#l00150">150</a> of file <a class="el" href="CCircuit_8h_source.html">CCircuit.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="CCircuit_8cpp_source.html#l00013">Check_Validity()</a>, and <a class="el" href="CCircuit_8cpp_source.html#l00298">mark_units()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="CCircuit_8h_source.html">CCircuit.h</a></li>
<li>src/<a class="el" href="CCircuit_8cpp_source.html">CCircuit.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCircuit.html">Circuit</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
